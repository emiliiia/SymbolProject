<app-header></app-header>
<!--start section content... -->

<body>
<div id="titleBlock"><p>–°–¢–í–û–†–ï–ù–ù–Ø –°–¢–ê–¢–¢–Ü</p></div>
<div class="postDiv">
  <div class="hotDog"></div>
  <a routerLink="/rules"><p id="answ">–í–∏ —á–∏—Ç–∞–ª–∏<br>–ø—Ä–∞–≤–∏–ª–∞ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó?</p></a>


  <div class="mainBody">
    <form #postForm="ngForm" novalidate autocomplete="off" (ngSubmit)="onSave()">
      <!--TITLE INPUT WITH MAX LENGTH 80-->
      <div id="inputTitle">
        <p id="title">–ù–∞–∑–≤–∞ <b class="red">*</b> :</p>
        <input  type="text" name="title" maxlength="80" placeholder="–í–≤–µ–¥—ñ—Ç—å —Ç–µ–∫—Å—Ç —Ç—É—Ç..."
                [(ngModel)]="post.title" required appTrim #title="ngModel" (keyup)="titleInput($event)">
        <div class="error" *ngIf="!title.valid && !title.untouched">*–ù–∞–∑–≤–∞ –æ–±–æ–≤'—è–∑–∫–æ–≤–∞</div>
        <div class="inputLengthDiv">
          {{titleNumberOfCharacters}} / {{titleMaxNumberOfCharacters}}
        </div>
      </div>

      <!--FOREWORD INPUT WITH MAX LENGTH 150-->
      <div  id="inputForeword">
        <p id="foreword">–ü–µ—Ä–µ–¥–º–æ–≤–∞ <b class="red">*</b> :</p>
        <textarea name="foreword" maxlength="150" placeholder="–í–≤–µ–¥—ñ—Ç—å —Ç–µ–∫—Å—Ç —Ç—É—Ç..." cols="80" rows="5"  type="text"
                  [(ngModel)]="post.foreword" required appTrim #foreword="ngModel" (keyup)="forewordInput($event)"></textarea>
        <div class="error" *ngIf="!foreword.valid && !foreword.untouched">*–ü–µ—Ä–µ–¥–º–æ–≤–∞ –æ–±–æ–≤'—è–∑–∫–æ–≤–∞</div>
        <div class="inputLengthDiv">
          {{forewordNumberOfCharacters}} / {{forewordMaxNumberOfCharacters}}
        </div>
      </div>

      <!--PHOTO INPUT-->
      <div id="inputPhoto">
        <p id="photo">–§–æ—Ç–æ <b class="red">*</b> :</p>
        <div class="dropzone">
          <input type="file" name="photo" id="uploadPhoto" accept="image/png, image/jpeg" appFileValidator
                 (change)="previewImage()" ngModel #photo="ngModel">
          <p>–ü–µ—Ä–µ—Ç—è–≥–Ω—ñ—Ç—å –∞–±–æ <i style="text-decoration: underline">–∫–ª—ñ–∫–Ω—ñ—Ç—å</i>, —â–æ–± –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏<br>
            –†–µ–∫–æ–º–µ–Ω–¥—É—î–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —è–∫—ñ—Å–Ω—ñ —Ñ–∞–π–ª–∏ —É —Ñ–æ—Ä–º–∞—Ç—ñ .jpg (—Ä–æ–∑–º—ñ—Ä–æ–º –¥–æ 20 –ú–±).</p>
        </div>
      </div>
      <div id="uploadedPhoto" *ngIf="image != null || mode == 'UPDATE'">
        <p class="previewPhoto">–ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π <br> –ø–µ—Ä–µ–≥–ª—è–¥ —Ñ–æ—Ç–æ:</p>
        <div class="imgDiv">
          <img id="previewImg" [src]="previewImg + postId + '.jpg'" alt=""/>
        </div>
      </div><br>

      <!--CONTENT INPUT-->
      <p id="contentText">–¢–µ–∫—Å—Ç —Å—Ç–∞—Ç—Ç—ñ <b class="red">*</b> :</p>
      <div id="content">
        <angular-editor id="editor" name="content" #content="ngModel" [placeholder]="'–í–≤–µ–¥—ñ—Ç—å —Ç–µ–∫—Å—Ç —Ç—É—Ç...'" [(ngModel)]="post.content" type="text"
                        required appTrim></angular-editor>
        <div class="errorContent" *ngIf="!content.valid && !content.untouched">*–¢–µ–∫—Å—Ç —Å—Ç–∞—Ç—Ç—ñ –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π</div>
      </div>
      <p  id="warning">üå≠ –ü–æ–ª—è –≤–≤–µ–¥–µ–Ω–Ω—è <b class="red">*</b> —î –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–º–∏ üå≠</p>
      <div class="checkBox" *ngIf="mode != 'UPDATE'">

        <br><input type="checkbox" id="switch" name="checkbox" (change)="changeEvent($event)" /><label for="switch"></label>

        <p id="agreeText">–Ø –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—é, —â–æ —è —î –∞–≤—Ç–æ—Ä–æ–º –æ–ø—É–±–ª—ñ–∫–æ–≤–∞–Ω–æ–≥–æ –º–Ω–æ—é —Ç–µ–∫—Å—Ç—É —ñ —Ä–æ–∑—É–º—ñ—é, —â–æ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—è —á—É–∂–∏—Ö —Ä–æ–±—ñ—Ç
          –∞–±–æ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—è —Ä–æ–±—ñ—Ç, —è–∫—ñ –ø–æ—Ä—É—à—É—é—Ç—å –ø—Ä–∞–≤–∏–ª–∞, –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Ü–∏—Ö —Ä–æ–±—ñ—Ç —ñ
          –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É –¥–æ —Å–∞–π—Ç—É.</p>
      </div>
      <button *ngIf="mode == 'UPDATE'" type="submit" class="button-74" role="button" [disabled]="title.invalid || content.invalid || foreword.invalid"
              [title]="postForm.invalid ? 'Fill all fields with valid values.' : ''">–ó–±–µ—Ä–µ–≥—Ç–∏</button>

      <button *ngIf="mode == 'CREATE'" type="submit" class="button-74" role="button" [disabled]="title.invalid || content.invalid || foreword.invalid
         || photo.invalid || toogleBool || image == null"
              [title]="postForm.invalid ? 'Fill all fields with valid values.' : ''">–û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏</button>
    </form>
  </div>

</div>
</body>
